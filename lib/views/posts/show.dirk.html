@import 'package:itblog/models/data.dart';
@type Post

@renderPartial("shared/_breadcrumbs", model.breadcrumbs)
<div class="container" role="main">
	@renderPartial("shared/_sidebar")
  <div id="main-column">
    <h2>
			@model.title
			@if (isAuthenticated()) {
        <a class="btn btn-outline-primary btn-sm ml-2" href="@model.editUrl"><i class="mdi mdi-pencil"></i> Редактировать</a>
			}
    </h2>

		@renderPartial("posts/_info", model)
    <div class="content">@model.content</div>
    
    <div id="comments">
      <h4>Оставьте комментарий</h4>
			@renderPartial("comments/_public_form", model)
			@{var length = model.comments?.length ?? 0;}
			@for(var i = 0; i < length; i++) {
				@{var comment = model.comments![i];}
        <div class="comment card card-body" id="comment-@comment.id">
          <h6>@comment.userName</h6>
          <div class="comment-content">
            @comment.content
          </div>
        </div>
			}
    </div>
  </div>
</div>
