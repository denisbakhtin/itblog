@import 'package:itblog/models/data.dart'
@type List<Post>

<div class="content-wrapper">
	@renderPartial("dashboard/_sidebar")
  <div class="main-content" role="main">
    <h2>@(viewData["title"])</h2>
    <table class="table">
      <thead>
        <tr>
          <th class="shrink">№</th>
          <th>Заголовок</th>
          <th class="shrink">Опубликовано</th>
          <th class="shrink">Действия</th>
        </tr>
      </thead>
      <tbody>
				@for(var i = 0; i < model.length; i++) {
					@{var post = model[i];}
          <tr>
            <td class="shrink">@post.id</td>
            <td>@post.title</td>
            <td class="shrink">
							@if (post.published == 1) {
								<span class="mdi mdi-check"></span>
							} else {
								<span class="mdi mdi-minus"></span>
							}
            </td>
            <td class="shrink">
              <a href="@post.url" class="btn btn-sm btn-secondary"><i class="mdi mdi-eye"></i></a>
              <a href="@post.editUrl" class="btn btn-sm btn-primary"><i class="mdi mdi-pencil"></i></a>
              <form class="inline-block" action="@post.deleteUrl" method="post">
                <button type="button" class="btn btn-sm btn-danger" onclick="((confirm('Вы уверены?')) ? this.form.submit() : null);"><i class="mdi mdi-delete"></i></button>
              </form>
            </td>
          </tr>
				}
      </tbody>
    </table>
    <div class="actions">
      <a href="@Post.newUrl" class="btn btn-primary"><i class="mdi mdi-plus mr-1"></i>Новая запись</a>
    </div>
  </div>
</div>
